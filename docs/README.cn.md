[English](../README.md) |  **中文**

# UniGen: 通用生成器 - 一个 AI 增强的流式编程编译器

**简介:** 探索结合 Flow-Based Programming (FBP)、Lambda 演算思想与 AI，以提升图形化编程效率与表达能力。

## 核心思想

UniGen 是一个实验性项目，尝试利用 Flow-Based Programming (FBP) 的网络结构和 Lambda 演算的函数组合思想，结合 AI 的能力，来增强图形化编程的表达力：

1.  **LLM 作为万能函数模拟器与数据处理器:** 将大语言模型 (LLM) 视为一个**万能函数模拟器 (Universal Function Simulator)**。每个 FBP 节点封装了一次 LLM 调用，其行为由自然语言**模板**（Prompt）定义。该模板不仅定义了节点的处理逻辑，还可隐式或显式地指定如何**解包 (Unpack)** 上游节点的输出，以提取本节点所需的数据，实现灵活的数据传递。（**注：LLM 模拟的函数越简单、输入输出越明确，其准确性和可靠性通常越高。**）
2.  **FBP 网络 = 函数组合与数据流:** FBP 的节点连接定义了数据流，这在语义上等同于 Lambda 演算中的函数应用与组合 (`f(g(x))`)。整个网络本身就是对一个复杂函数的可视化描述。节点间的连接承载着数据和控制流。
3.  **过程模板 = 可调用函数:** 节点的提示词描述了其处理逻辑（可能包含 I/O 示例或步骤--通过MCP以类Monad方式引发副作用）。通过占位符（如 `[INPUT]`）注入上游数据，使模板成为一个可被调用的“函数”。模板还可以定义解包规则。
4.  **函数（行为）传递:** 一个节点可以输出一段任务描述（过程），这段描述可以直接作为另一个节点的模板，实现了将“函数”（行为指令）像数据一样传递（借鉴 Lambda 演算中函数作为一等公民的思想）。
5.  **基于 Prolog/CLP 的一致性状态管理 (未来):** 当前版本专注于节点间的显式、一次性数据传递。未来的版本将探索引入**全局状态**(State Monad)管理。通过借鉴 **Prolog** (及其扩展 **约束逻辑编程 CLP**) 的思想，允许在流程图层面（例如，通过特殊节点或全局配置）使用**自然语言**定义变量及其应满足的**逻辑约束 (Constraints)**。系统内部将维护一个类似 Prolog 数据库的事实库，并利用其推理能力来自动确保这些约束在工作流执行过程中始终保持**一致性 (Consistency)**。这相当于将传统意义上分离的“数据库”和“模型维护代码”统一由 Prolog 引擎处理。(**注：此方式逻辑上严谨但性能较低，长期目标是通过编译优化来提升性能。当前版本暂不支持全局变量和此类一致性约束。**)
6.  **编译优化与混合执行 (未来):** 项目未来计划探索将部分节点（特别是那些逻辑明确、可形式化的节点，即“终结符”）**编译**为高效的 Python/C++ 等代码，形成 AI 调用与编译代码协同工作的混合执行模式。数据解包逻辑也可能被编译以提高效率。

## 主要优势

*   **直观设计:** 使用源自实例的自然语言模板来声明性地定义节点行为和数据交互。
*   **灵活组合:** 通过连接节点轻松构建复杂工作流，支持函数和行为的传递。
*   **AI 原生:** 利用 LLM 的通用问题理解和数据处理能力。
*   **混合效率 (计划中):** 有可能将性能关键部分编译为原生代码。
*   **未来可演化:** 为引入更高级的状态管理和约束机制奠定基础。

## 愿景

使用户能够通过以下方式捕捉和自动化结构化的**人类思维过程** (例如写论文、写代码、写小说)：
1.  可视化地设计工作流 (数据流图)。
2.  通过模板化的自然语言描述 (可能由 AI 自动生成/建议) 定义节点功能。
3.  让 UniGen 编译并执行该工作流，结合 LLM 推理与编译后的组件。

## 局限性 / 范围

*   **捕获静态知识:** UniGen 擅长固化和运行已有的、定义明确的人类工作流程与方法论。
*   **暂无自主进化 (当前阶段):** 它本身**不具备**超越初始编程/规范之外自我改进或发现更好方法的内在能力。如果底层的人类方法论发生了演变，需要手动更新 UniGen 工作流。

## 状态

**概念阶段 / 早期开发**

这是一个概念探索和早期开发实现。欢迎贡献和反馈！

---

## 📄 许可证

MIT License © 2025 lizhutang contributors

---

**UniGen** ： 融合 FBP 与 Lambda 演算，用 LLM 驱动的节点可视化构建 AI 工作流。
